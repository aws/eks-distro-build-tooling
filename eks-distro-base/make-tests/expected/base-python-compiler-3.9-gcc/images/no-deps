
# This file was generated by running `make run-make-tests` and `make update-make-tests-expected`. DO NOT EDIT

/override/root/../scripts/buildkit_check.sh
checking pushed file: /override/root/eks-distro-minimal-base-compiler-gcc-pushed - false
tag from file for eks-distro-minimal-base-compiler-gcc: some-previous-tag
checking pushed file: /override/root/eks-distro-minimal-base-pushed - false
tag from file for eks-distro-minimal-base: some-previous-tag
checking pushed file: /override/root/eks-distro-minimal-base-python-3.9-pushed - false
tag from file for eks-distro-minimal-base-python-3.9: some-previous-tag
printf "\n\nBuilding base-python-compiler-3.9-gcc builder stage\n\n"
/override/root/../scripts/buildkit.sh build --frontend dockerfile.v0 --opt filename=Dockerfile.minimal-base-python --opt platform=linux/amd64 --opt build-arg:OUTPUT_DEBUG_LOG= --opt build-arg:BASE_IMAGE=public.ecr.aws/eks-distro-build-tooling/compiler-base:some-previous-tag --opt build-arg:BUILDER_IMAGE=public.ecr.aws/eks-distro-build-tooling/compiler-base-builder:some-previous-tag --opt build-arg:VERSIONED_VARIANT=3.9-gcc --opt build-arg:AL_TAG=2 --opt build-arg:COMPILER_VERSION=3.9 --opt build-arg:COMPILER_FULL_VERSION=3.9.14-mock --opt build-arg:IS_COMPILER=true --opt build-arg:MINIMAL_BASE_BUILDER_IMAGE=public.ecr.aws/eks-distro-build-tooling/eks-distro-minimal-base-builder:some-previous-tag --progress plain --local dockerfile=./ --local context=. --opt target=builder  --export-cache type=inline --import-cache type=registry,ref=public.ecr.aws/eks-distro-build-tooling/eks-distro-minimal-base-python-builder:some-previous-tag --opt no-cache=builder-python-base --output type=image,oci-mediatypes=true,\"name=localhost:5000/python-builder:3.9-gcc-test-tag,localhost:5000/python-builder:3.9-gcc,localhost:5000/python-builder:3.9.14-mock-gcc,localhost:5000/python-builder:3.9.14,localhost:5000/python-builder:3.9.14-gcc,localhost:5000/python-builder:3.9-gcc-al2,localhost:5000/python-builder:3.9.14-mock-gcc-al2,localhost:5000/python-builder:3.9.14-al2,localhost:5000/python-builder:3.9.14-gcc-al2\",push=true
printf "\n\nBuilding base-python-compiler-3.9-gcc final stage\n\n"
./check_update.sh python 2 eks-distro-minimal-base-python-compiler-3.9-gcc
/override/root/../scripts/buildkit.sh build --frontend dockerfile.v0 --opt filename=Dockerfile.minimal-base-python --opt platform=linux/amd64 --opt build-arg:OUTPUT_DEBUG_LOG= --opt build-arg:BASE_IMAGE=public.ecr.aws/eks-distro-build-tooling/compiler-base:some-previous-tag --opt build-arg:BUILT_BUILDER_IMAGE=localhost:5000/python-builder:3.9-gcc-test-tag --opt build-arg:VERSIONED_VARIANT=3.9-gcc --opt build-arg:AL_TAG=2 --opt build-arg:COMPILER_VERSION=3.9 --opt build-arg:COMPILER_FULL_VERSION=3.9.14-mock --opt build-arg:IS_COMPILER=true --progress plain --local dockerfile=./ --local context=. --opt target=final  --export-cache type=inline --import-cache type=registry,ref=public.ecr.aws/eks-distro-build-tooling/eks-distro-minimal-base-python-builder:some-previous-tag --opt no-cache=builder-python-base --output type=image,oci-mediatypes=true,\"name=localhost:5000/python:3.9-gcc-test-tag,localhost:5000/python:3.9-gcc,localhost:5000/python:3.9.14-mock-gcc,localhost:5000/python:3.9.14,localhost:5000/python:3.9.14-gcc,localhost:5000/python:3.9-gcc-al2,localhost:5000/python:3.9.14-mock-gcc-al2,localhost:5000/python:3.9.14-al2,localhost:5000/python:3.9.14-gcc-al2\",push=true
printf "\n\nExporting packages and files from  base-python-compiler-3.9-gcc final image\n\n"
/override/root/../scripts/buildkit.sh build --frontend dockerfile.v0 --opt filename=Dockerfile.minimal-helpers --opt platform=linux/amd64 --opt build-arg:OUTPUT_DEBUG_LOG= --opt build-arg:BUILT_BUILDER_IMAGE=localhost:5000/python-builder:3.9-gcc-test-tag --opt build-arg:EXPORT_NAME=python-compiler-3.9-gcc --progress plain --local dockerfile=./ --local context=. --opt target=export     --output type=local,dest=/override/root/../eks-distro-base-minimal-packages/2
if [ -f /override/root/../eks-distro-base-minimal-packages/2/python-compiler-3.9-gcc ]; then \
	mv /override/root/../eks-distro-base-minimal-packages/2/python-compiler-3.9-gcc* /override/root/../eks-distro-base-minimal-packages/2/linux_amd64/; \
fi
printf "\n\nValidating libraries and symlinks in base-python-compiler-3.9-gcc final image\n\n"
/override/root/../scripts/buildkit.sh build --frontend dockerfile.v0 --opt filename=Dockerfile.minimal-helpers --opt platform=linux/amd64 --opt build-arg:OUTPUT_DEBUG_LOG= --opt build-arg:BUILT_BUILDER_IMAGE=localhost:5000/python-builder:3.9-gcc-test-tag --progress plain --local dockerfile=./ --local context=. --opt target=validate     --output type=local,dest=/tmp
if command -v docker &> /dev/null && docker info > /dev/null 2>&1 ; then \
	/override/root/tests/run_tests.sh localhost:5000 3.9-gcc-test-tag 2 linux/amd64 check_base-python-compiler-3.9-gcc localhost:5000; \
fi
printf "Building base-python-compiler-3.9-gcc complete!\n\n"
echo true > /override/root/eks-distro-minimal-base-python-compiler-3.9-gcc-pushed
